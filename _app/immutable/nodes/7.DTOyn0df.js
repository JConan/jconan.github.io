import"../chunks/NZTpNUN0.js";import{af as F,K as R,L as C,W as g,O as c,P as K,R as a,Q as h,U as d,d as v,V as p,ah as k,X as O,aj as Q}from"../chunks/CFKvo57Q.js";import{i as b}from"../chunks/DFAa2miK.js";import{h as U}from"../chunks/B9ZLjaLe.js";import{m as V}from"../chunks/BaswSlok.js";import{g as W}from"../chunks/RWeLrr_4.js";var X=g('<div class="loading-container svelte-1yutglt"><div class="loading-spinner svelte-1yutglt"></div> <p class="loading-text svelte-1yutglt">Chargement de la description...</p></div>'),j=(_,i,o)=>i(o.data.selectedProject),q=g('<div class="error-container svelte-1yutglt"><h2 class="svelte-1yutglt">Erreur de chargement</h2> <p class="error-message svelte-1yutglt"> </p> <button class="retry-button svelte-1yutglt">Réessayer</button></div>'),z=g('<div class="prose-content svelte-1yutglt"><!></div>'),A=g('<div class="description-content svelte-1yutglt"><!></div>');function N(_,i){R(i,!0);let o=h(""),f=h(!0),l=h("");C(()=>{y(i.data.selectedProject)});async function y(t){if(t){a(f,!0),a(l,"");try{const e=await fetch(typeof t.descriptionLink=="string"?t.descriptionLink:t.descriptionLink(W()));if(!e.ok)throw new Error(`Failed to fetch description: ${e.status}`);const m=await e.text();a(o,await V.parse(m),!0)}catch(e){console.error("Error fetching description:",e),a(l,e instanceof Error?e.message:"Failed to load description",!0),a(o,`
				<h2>Description non disponible</h2>
				<p>Désolé, la description de ce projet n'a pas pu être chargée.</p>
				<p><strong>Projet:</strong> ${t.name}</p>
				<p><strong>Description courte:</strong> ${t.shortDescription}</p>
			`)}finally{a(f,!1)}}}var u=A(),w=d(u);{var L=t=>{var e=X();c(t,e)},x=(t,e)=>{{var m=s=>{var r=q(),n=k(d(r),2),E=d(n,!0);p(n);var P=k(n,2);P.__click=[j,y,i],p(r),O(()=>Q(E,v(l))),c(s,r)},D=s=>{var r=z(),n=d(r);U(n,()=>v(o)),p(r),c(s,r)};b(t,s=>{v(l)?s(m):s(D,!1)},e)}};b(w,t=>{v(f)?t(L):t(x,!1)})}p(u),c(_,u),K()}F(["click"]);export{N as component};

import{g as L,b as g,a as c,s as j}from"../chunks/D9eZFter.js";import{p as C,u as R,a as q,b as a,s as h,d,g as v,r as p,y as b,t as z}from"../chunks/D0VR3jJV.js";import{i as k}from"../chunks/LDLXZLVD.js";import{h as A}from"../chunks/BOmOc1wx.js";import{m as B}from"../chunks/DKjyhwJX.js";var G=g('<div class="loading-container svelte-1yutglt"><div class="loading-spinner svelte-1yutglt"></div> <p class="loading-text svelte-1yutglt">Chargement de la description...</p></div>'),H=(_,o,i)=>o(i.data.selectedProject),I=g('<div class="error-container svelte-1yutglt"><h2 class="svelte-1yutglt">Erreur de chargement</h2> <p class="error-message svelte-1yutglt"> </p> <button class="retry-button svelte-1yutglt">Réessayer</button></div>'),J=g('<div class="prose-content svelte-1yutglt"><!></div>'),K=g('<div class="description-content svelte-1yutglt"><!></div>');function T(_,o){C(o,!0);let i=h(""),u=h(!0),l=h("");R(()=>{y(o.data.selectedProject)});async function y(t){if(t){a(u,!0),a(l,"");try{const e=await fetch(t.descriptionLink);if(!e.ok)throw new Error(`Failed to fetch description: ${e.status}`);const m=await e.text();a(i,await B.parse(m),!0)}catch(e){console.error("Error fetching description:",e),a(l,e instanceof Error?e.message:"Failed to load description",!0),a(i,`
				<h2>Description non disponible</h2>
				<p>Désolé, la description de ce projet n'a pas pu être chargée.</p>
				<p><strong>Projet:</strong> ${t.name}</p>
				<p><strong>Description courte:</strong> ${t.shortDescription}</p>
			`)}finally{a(u,!1)}}}var f=K(),w=d(f);{var x=t=>{var e=G();c(t,e)},D=(t,e)=>{{var m=s=>{var r=I(),n=b(d(r),2),P=d(n,!0);p(n);var F=b(n,2);F.__click=[H,y,o],p(r),z(()=>j(P,v(l))),c(s,r)},E=s=>{var r=J(),n=d(r);A(n,()=>v(i)),p(r),c(s,r)};k(t,s=>{v(l)?s(m):s(E,!1)},e)}};k(w,t=>{v(u)?t(x):t(D,!1)})}p(f),c(_,f),q()}L(["click"]);export{T as component};

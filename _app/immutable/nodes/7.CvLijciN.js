import{g as F,b as g,a as c,s as C}from"../chunks/DWvsZrAO.js";import{p as K,u as R,a as q,b as a,s as h,d,g as p,r as v,K as k,t as z}from"../chunks/D2f7AdIK.js";import{i as b}from"../chunks/Cg_F1FXm.js";import{h as A}from"../chunks/Ci_JV5mf.js";import{m as B}from"../chunks/DKjyhwJX.js";import{g as G}from"../chunks/Dl4pfzvq.js";var H=g('<div class="loading-container svelte-1yutglt"><div class="loading-spinner svelte-1yutglt"></div> <p class="loading-text svelte-1yutglt">Chargement de la description...</p></div>'),I=(_,o,i)=>o(i.data.selectedProject),J=g('<div class="error-container svelte-1yutglt"><h2 class="svelte-1yutglt">Erreur de chargement</h2> <p class="error-message svelte-1yutglt"> </p> <button class="retry-button svelte-1yutglt">Réessayer</button></div>'),M=g('<div class="prose-content svelte-1yutglt"><!></div>'),N=g('<div class="description-content svelte-1yutglt"><!></div>');function W(_,o){K(o,!0);let i=h(""),u=h(!0),l=h("");R(()=>{y(o.data.selectedProject)});async function y(t){if(t){a(u,!0),a(l,"");try{const e=await fetch(typeof t.descriptionLink=="string"?t.descriptionLink:t.descriptionLink(G()));if(!e.ok)throw new Error(`Failed to fetch description: ${e.status}`);const m=await e.text();a(i,await B.parse(m),!0)}catch(e){console.error("Error fetching description:",e),a(l,e instanceof Error?e.message:"Failed to load description",!0),a(i,`
				<h2>Description non disponible</h2>
				<p>Désolé, la description de ce projet n'a pas pu être chargée.</p>
				<p><strong>Projet:</strong> ${t.name}</p>
				<p><strong>Description courte:</strong> ${t.shortDescription}</p>
			`)}finally{a(u,!1)}}}var f=N(),w=d(f);{var x=t=>{var e=H();c(t,e)},D=(t,e)=>{{var m=s=>{var r=J(),n=k(d(r),2),E=d(n,!0);v(n);var P=k(n,2);P.__click=[I,y,o],v(r),z(()=>C(E,p(l))),c(s,r)},L=s=>{var r=M(),n=d(r);A(n,()=>p(i)),v(r),c(s,r)};b(t,s=>{p(l)?s(m):s(L,!1)},e)}};b(w,t=>{p(u)?t(x):t(D,!1)})}v(f),c(_,f),q()}F(["click"]);export{W as component};

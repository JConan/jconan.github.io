import{g as R,b as j,a as h,s as W}from"../chunks/D9eZFter.js";import{p as I,u as E,t as L,a as M,y as u,d as o,g as t,s as m,L as N,b as r,r as v}from"../chunks/D0VR3jJV.js";import{i as x}from"../chunks/LDLXZLVD.js";import{b as O,s as y,c as U}from"../chunks/B9-1KGKg.js";import{b as q}from"../chunks/DWY_TvTV.js";function A(p,a,s,l,n){t(a)&&s.data.selectedProject&&(r(l,!1),r(n,!1),t(a).src=s.data.selectedProject.demoLink)}var B=j('<div class="loading-container svelte-cb523u"><div class="loading-spinner svelte-cb523u"></div> <p class="loading-text svelte-cb523u">Chargement du projet...</p> <p class="loading-subtext svelte-cb523u"> </p></div>'),F=j(`<div class="error-container svelte-cb523u"><h2 class="svelte-cb523u">Erreur de chargement</h2> <p class="svelte-cb523u">Le projet n'a pas pu être chargé. Cela peut être dû à:</p> <ul class="svelte-cb523u"><li class="svelte-cb523u">Une connexion internet instable</li> <li class="svelte-cb523u">Le projet est temporairement indisponible</li> <li class="svelte-cb523u">Des restrictions de sécurité du navigateur</li></ul> <div class="error-actions svelte-cb523u"><button class="retry-button svelte-cb523u">Réessayer</button> <a target="_blank" class="external-link svelte-cb523u">Ouvrir dans un nouvel onglet</a></div></div>`),G=j('<div class="demo-container svelte-cb523u"><!> <!> <div><iframe allow="fullscreen" class="svelte-cb523u"></iframe></div></div>');function V(p,a){I(a,!0);let s=m(null),l=m(!1),n=m(!1),f=m(!1);E(()=>{r(f,window.innerWidth<=768);const e=()=>{r(f,window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),E(()=>{if(!t(s)||!a.data.selectedProject)return;r(l,!1),r(n,!1);const e=()=>{r(l,!0),r(n,!1)},i=()=>{r(l,!1),r(n,!0)};return t(s).addEventListener("load",e),t(s).addEventListener("error",i),t(s).src=a.data.selectedProject.demoLink,t(s).className=`demo-iframe ${a.data.selectedProject.slug}`,()=>{var d,c;(d=t(s))==null||d.removeEventListener("load",e),(c=t(s))==null||c.removeEventListener("error",i)}});let z=N(()=>a.data.selectedProject?t(f)?a.data.selectedProject.iframeHeight.mobile:a.data.selectedProject.iframeHeight.desktop:600);var b=G(),P=o(b);{var H=e=>{var i=B(),d=u(o(i),4),c=o(d);v(d),v(i),L(()=>W(c,`Initialisation de ${a.data.selectedProject.name??""}`)),h(e,i)};x(P,e=>{!t(l)&&!t(n)&&e(H)})}var k=u(P,2);{var C=e=>{var i=F(),d=u(o(i),6),c=o(d);c.__click=[A,s,a,l,n];var D=u(c,2);v(d),v(i),L(()=>y(D,"href",a.data.selectedProject.demoLink)),h(e,i)};x(k,e=>{t(n)&&e(C)})}var _=u(k,2);let w;var g=o(_);q(g,e=>r(s,e),()=>t(s)),v(_),v(b),L(e=>{w=O(_,1,"iframe-container svelte-cb523u",null,w,e),y(g,"title",`Démo de ${a.data.selectedProject.name}`),U(g,`height: ${t(z)??""}px; opacity: ${t(l)?1:0};`)},[()=>({loaded:t(l)})]),h(p,b),M()}R(["click"]);export{V as component};

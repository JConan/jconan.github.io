const f="fr",m=["fr","en"],L="PARAGLIDE_LOCALE";const p=["url","cookie","baseLocale"];globalThis.__paraglide={};let h=!1,u=()=>{let e;for(const t of p)if(t==="cookie"?e=x():t==="baseLocale"?e=f:t==="url"&&typeof window<"u"?e=y(window.location.href):U(t)&&c.has(t)&&(e=c.get(t).getLocale()),e!==void 0){const o=k(e);return h||(h=!0,b(o,{reload:!1})),o}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},b=(e,t)=>{const o={reload:!0,...t};let r;try{r=u()}catch{}let a;for(const n of p)if(n==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const i=window.location.hostname;document.cookie=`${L}=${e}; path=/; max-age=34560000; domain=${i}`}else{if(n==="baseLocale")continue;n==="url"&&typeof window<"u"?a=s(window.location.href,{locale:e}).href:U(n)&&c.has(n)&&c.get(n).setLocale(e)}o.reload&&window.location&&e!==r&&(a?window.location.href=a:window.location.reload())},d=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function l(e){return e?m.includes(e):!1}function k(e){if(l(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${m.join(", ")}`);return e}function x(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${L}=([^;]+)`)),t=e==null?void 0:e[2];if(l(t))return t}let g,w;function y(e){const t=typeof e=="string"?e:e.href;if(g===t)return w;let o;return o=z(e),g=t,w=o,o}function z(e){const o=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(o.length>0){const r=o[0];if(l(r))return r}return f}function s(e,t){return R(e,t)}function R(e,t){const o=typeof e=="string"?new URL(e,d()):new URL(e),r=(t==null?void 0:t.locale)??u();if(y(o)===r)return o;const n=o.pathname.split("/").filter(Boolean);return n.length>0&&l(n[0])&&n.shift(),r===f?o.pathname="/"+n.join("/"):o.pathname="/"+r+"/"+n.join("/"),o}function $(e){return j(e)}function j(e){const t=typeof e=="string"?new URL(e,d()):new URL(e),o=t.pathname.split("/").filter(Boolean);return o.length>0&&l(o[0])&&(t.pathname="/"+o.slice(1).join("/")),t}function E(e,t){const o=u(),r=(t==null?void 0:t.locale)??o,a=new URL(e,d()),n=s(a,{locale:r});return e.startsWith("/")&&a.origin===n.origin?r!==o&&s(a,{locale:o}).origin!==n.origin?n.href:n.pathname+n.search+n.hash:n.href}const c=new Map;function U(e){return typeof e=="string"&&/^custom-[A-Za-z0-9]+$/.test(e)}export{E as a,$ as d,y as e,u as g,m as l,b as s};

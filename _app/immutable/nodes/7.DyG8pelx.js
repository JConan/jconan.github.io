import{g as L,b as g,a as c,s as j}from"../chunks/DWvsZrAO.js";import{p as C,u as K,a as R,b as a,s as h,d,g as v,r as p,K as b,t as q}from"../chunks/D2f7AdIK.js";import{i as k}from"../chunks/Cg_F1FXm.js";import{h as z}from"../chunks/Ci_JV5mf.js";import{m as A}from"../chunks/DKjyhwJX.js";var B=g('<div class="loading-container svelte-1yutglt"><div class="loading-spinner svelte-1yutglt"></div> <p class="loading-text svelte-1yutglt">Chargement de la description...</p></div>'),G=(_,o,i)=>o(i.data.selectedProject),H=g('<div class="error-container svelte-1yutglt"><h2 class="svelte-1yutglt">Erreur de chargement</h2> <p class="error-message svelte-1yutglt"> </p> <button class="retry-button svelte-1yutglt">Réessayer</button></div>'),I=g('<div class="prose-content svelte-1yutglt"><!></div>'),J=g('<div class="description-content svelte-1yutglt"><!></div>');function T(_,o){C(o,!0);let i=h(""),u=h(!0),l=h("");K(()=>{y(o.data.selectedProject)});async function y(t){if(t){a(u,!0),a(l,"");try{const e=await fetch(t.descriptionLink);if(!e.ok)throw new Error(`Failed to fetch description: ${e.status}`);const m=await e.text();a(i,await A.parse(m),!0)}catch(e){console.error("Error fetching description:",e),a(l,e instanceof Error?e.message:"Failed to load description",!0),a(i,`
				<h2>Description non disponible</h2>
				<p>Désolé, la description de ce projet n'a pas pu être chargée.</p>
				<p><strong>Projet:</strong> ${t.name}</p>
				<p><strong>Description courte:</strong> ${t.shortDescription}</p>
			`)}finally{a(u,!1)}}}var f=J(),w=d(f);{var x=t=>{var e=B();c(t,e)},D=(t,e)=>{{var m=s=>{var r=H(),n=b(d(r),2),P=d(n,!0);p(n);var F=b(n,2);F.__click=[G,y,o],p(r),q(()=>j(P,v(l))),c(s,r)},E=s=>{var r=I(),n=d(r);z(n,()=>v(i)),p(r),c(s,r)};k(t,s=>{v(l)?s(m):s(E,!1)},e)}};k(w,t=>{v(u)?t(x):t(D,!1)})}p(f),c(_,f),R()}L(["click"]);export{T as component};
